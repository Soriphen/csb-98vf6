(this["webpackJsonpstudent-profile-search"]=this["webpackJsonpstudent-profile-search"]||[]).push([[0],{36:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r,a,c,s,i,u,d,o,l,j=n(0),x=n(6),g=n.n(x),p=n(9),f=(n(36),n(8)),m=n(22),b=n(4),h=n(5),O=h.a.div(r||(r=Object(b.a)(["\n  text-align: left;\n  padding: 10px 25px;\n  border-bottom: 1px solid lightgray;\n  @media (max-width: 670px) {\n    flex-direction: column;\n  }\n"]))),v=h.a.img(a||(a=Object(b.a)(["\n  border: 1px solid grey;\n  width: 140px;\n  height: 140px;\n  border-radius: 50%;\n  position: relative;\n  top: 10px;\n  @media (max-width: 670px) {\n    top: 0;\n    margin: 15px auto;\n  }\n"]))),w=h.a.h1(c||(c=Object(b.a)(["\n  font-weight: 700;\n  text-transform: uppercase;\n  display: flex;\n  justify-content: space-between;\n  @media (max-width: 670px) {\n    justify-content: center;\n    flex-direction: column;\n  }\n"]))),N=h.a.div(s||(s=Object(b.a)(["\n  margin-left: 30px;\n  width: 100%;\n  @media (max-width: 670px) {\n    margin: 0;\n    text-align: center;\n  }\n"]))),y=h.a.p(i||(i=Object(b.a)(["\n  margin: 0;\n  margin-left: 22px;\n  @media (max-width: 670px) {\n    margin-left: 0;\n  }\n"]))),T=h.a.p(u||(u=Object(b.a)(["\n  display: flex;\n  margin-bottom: 0;\n  @media (max-width: 670px) {\n    justify-content: center;\n  }\n"]))),k=h.a.input(d||(d=Object(b.a)(["\n  border: none;\n  border-bottom: 1px solid gray;\n  margin: 15px 0 15px 20px;\n  padding-bottom: 7px;\n  padding-left: 5px;\n  padding-top: 7px;\n  @media (max-width: 670px) {\n    margin-left: 0;\n    width: calc(60% + 50px);\n  }\n  @media (max-width: 400px) {\n    width: 100%;\n  }\n"]))),R=h.a.button(o||(o=Object(b.a)(["\n  margin-left: ","; // This is to make the first tag have a margin-left of 23px\n  margin-top: 10px;\n  @media (max-width: 670px) {\n    margin-left: ",";\n  }\n"])),(function(e){return 0===e.tagIndex?"23px":"5px"}),(function(e){return 0===e.tagIndex?"0":"5px"})),S=n(24),E=n(51),C=n(50),A=n(2),I=Object(A.jsx)(m.a,{icon:S.b}),L=Object(A.jsx)(m.a,{icon:S.a}),B=function(e){var t=e.student,n=e.isClicked;return Object(A.jsxs)(y,{children:["Average: "+t.grades.reduce((function(e,t,n,r){return e+=parseInt(t),n===r.length-1&&(e/=r.length),e}),0)+"%",n&&t.grades.map((function(e,t){return Object(A.jsxs)(T,{className:"mb-0 d-flex",children:["Test ",t+1,": ",Object(A.jsxs)("span",{className:"ms-4",children:[e,"%"]})]})}))]})},J=function(e){var t=e.student,n=e.handleAddTag,r=e.handleRemoveTag;return Object(A.jsxs)(A.Fragment,{children:[t.tags.map((function(e,t){return Object(A.jsx)(E.a,{placement:"bottom",overlay:Object(A.jsx)(C.a,{id:"tooltip-grades",children:Object(A.jsxs)("span",{children:["Click to ",Object(A.jsx)("strong",{children:"Remove"})," tag"]})}),children:Object(A.jsx)(R,{className:"btn btn-secondary",onClick:function(){return r(t)},tagIndex:t,children:e})},"grade-click")})),t.tags.length>0?Object(A.jsx)("br",{}):null,Object(A.jsx)(k,{placeholder:"Add a tag",onKeyDown:n})]})},z=function(e){var t=e.student,n=e.setStudents,r=e.students,a=e.studentIndex,c=e.searchTag,s=e.regexTag,i=Object(j.useState)(!1),u=Object(p.a)(i,2),d=u[0],o=u[1];return Object(A.jsxs)(O,{className:"d-flex",children:[Object(A.jsx)(v,{src:t.pic,alt:t.firstName+" "+t.lastName+"'s picture"}),Object(A.jsxs)(N,{children:[Object(A.jsxs)(w,{children:[t.firstName+" "+t.lastName,Object(A.jsx)(E.a,{placement:"bottom",overlay:Object(A.jsx)(C.a,{id:"tooltip-grades",children:d?Object(A.jsxs)("span",{children:["Collapse ",Object(A.jsx)("strong",{children:"grades"})]}):Object(A.jsxs)("span",{children:["Expand ",Object(A.jsx)("strong",{children:"grades"})]})}),children:Object(A.jsx)("button",{className:"btn p-0 fs-2 text-muted",onClick:function(){o(!d)},children:d?L:I})},"grade-click")]}),Object(A.jsx)(y,{children:"Email: "+t.email}),Object(A.jsx)(y,{children:"Company: "+t.company}),Object(A.jsx)(y,{children:"Skill: "+t.skill}),Object(A.jsx)(B,{student:t,isClicked:d}),Object(A.jsx)(J,{className:"d-flex",student:t,handleAddTag:function(e){var t=Object(f.a)(r);"Enter"===e.key&&""!==e.target.value&&(t[a].tags.push(e.target.value),n(t),e.target.value="")},handleRemoveTag:function(e){var t=Object(f.a)(r);t[a].tags.splice(e,1),c.current&&(t=t.filter((function(e){return e.tags.some((function(e){return s.current.test(e)}))}))),n(t)}})]})]})},D=h.a.input(l||(l=Object(b.a)(["\n  border: none;\n  font-size: 1.3rem;\n  border-bottom: 1px solid gray;\n  width: 98%;\n  margin: 10px 0;\n  padding-bottom: 7px;\n  padding-left: 5px;\n  padding-top: 7px;\n"])));var F=function(e){var t=Object(j.useState)(!1),n=Object(p.a)(t,2),r=n[0],a=n[1];function c(t){t.key===e&&a(!0)}var s=function(t){t.key===e&&a(!1)};return Object(j.useEffect)((function(){return window.addEventListener("keydown",c),window.addEventListener("keyup",s),function(){window.removeEventListener("keydown",c),window.removeEventListener("keyup",s)}}),[]),r},K=function(e){var t=e.students,n=e.setStudents,r=e.placeholder,a=e.searchName,c=e.searchTag,s=e.regexName,i=e.regexTag,u=e.filteredName,d=Object(j.useRef)(Object(f.a)(t)),o=F("Backspace"),l=Object(j.useRef)();return Object(A.jsx)(D,{type:"text",placeholder:r,onChange:function(e){a.current=e.target.value.replaceAll(/[\\]/gi,"\\\\"),s.current=new RegExp("^(".concat(a.current,")"),"i"),u=c.current?t.filter((function(e){var t=e.firstName,n=e.lastName;return s.current.test(t)||s.current.test(n)||s.current.test(t+" "+n)})):d.current.filter((function(e){var t=e.firstName,n=e.lastName;return s.current.test(t)||s.current.test(n)||s.current.test(t+" "+n)})),""===c.current&&""===a.current?n(d.current):n(o?l.current.filter((function(e){var t=e.firstName,n=e.lastName,r=e.tags;return""!==s.current&&a.current&&!c.current?s.current.test(t)||s.current.test(n)||s.current.test(t+" "+n):r.some((function(e){return i.current.test(e)}))})):function(e){return u.length!==e.length&&(l.current=Object(f.a)(e)),u})}})},M=function(e){var t=e.students,n=e.setStudents,r=e.placeholder,a=e.searchName,c=e.searchTag,s=e.regexName,i=e.regexTag,u=e.filteredTag,d=Object(j.useRef)(Object(f.a)(t)),o=F("Backspace"),l=Object(j.useRef)();return Object(A.jsx)(D,{type:"text",placeholder:r,onChange:function(e){c.current=e.target.value.replaceAll(/[\\]/gi,"\\\\"),i.current=new RegExp("^(".concat(c.current,")"),"i"),u=a.current?t.filter((function(e){return e.tags.some((function(e){return i.current.test(e)}))})):d.current.filter((function(e){return e.tags.some((function(e){return i.current.test(e)}))})),""===c.current&&""===a.current?n(d.current):n(o?l.current.filter((function(e){var t=e.firstName,n=e.lastName,r=e.tags;return""!==s.current&&a.current&&!c.current?s.current.test(t)||s.current.test(n)||s.current.test(t+" "+n):r.some((function(e){return i.current.test(e)}))})):function(e){return u.length!==e.length&&(l.current=Object(f.a)(e)),u})}})};function q(){var e=Object(j.useState)(null),t=Object(p.a)(e,2),n=t[0],r=t[1],a=Object(j.useRef)(),c=Object(j.useState)(!1),s=Object(p.a)(c,2),i=s[0],u=s[1],d=Object(j.useState)(null),o=Object(p.a)(d,2),l=o[0],x=o[1],g=Object(j.useRef)(""),f=Object(j.useRef)(""),m=Object(j.useRef)(null),b=Object(j.useRef)(null),h=Object(j.useRef)([]),O=Object(j.useRef)([]);return Object(j.useEffect)((function(){fetch("https://api.hatchways.io/assessment/students").then((function(e){return e.json()})).then((function(e){a.current=e.students,a.current.forEach((function(e){e.tags=[]})),r(a.current),u(!0)}),(function(e){u(!0),x(e)}))}),[]),l?Object(A.jsxs)("div",{children:["Error: ",l.message]}):i?Object(A.jsxs)("div",{className:"App wrapper",children:[Object(A.jsx)(K,{students:n,setStudents:r,placeholder:"Search by name",nameOrTag:"name",searchName:g,searchTag:f,regexName:m,regexTag:b,filteredName:h.current}),Object(A.jsx)(M,{students:n,setStudents:r,placeholder:"Search by tag",nameOrTag:"tag",searchName:g,searchTag:f,regexName:m,regexTag:b,filteredTag:O.current}),0!==n.length&&n.map((function(e,t){return Object(A.jsx)(z,{student:e,students:n,setStudents:r,studentIndex:t,searchTag:f,regexTag:b},"student"+e.id)}))]}):Object(A.jsx)("div",{children:"Loading..."})}var G=document.getElementById("root");g.a.render(Object(A.jsx)(j.StrictMode,{children:Object(A.jsx)(q,{})}),G)}},[[44,1,2]]]);
//# sourceMappingURL=main.d2d390c8.chunk.js.map